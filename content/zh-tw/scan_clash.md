---
title: “盜用”clash代理
date: 2024-12-21
ai: true
tags: ['networking', 'cybersecurity', 'gfw']
authors: ['Maya']
---

## zmap 掃描網路

今天在刷 B 站的時候，看了一個介紹 `zmap` 作為網路掃描工具的視頻，覺得很有意思，隨即馬上下載了一個來玩，突發奇想，要不要掃描一下校園網裡使用 clash (7890) 端口的人。

```bash
zmap -p 7890 10.78.0.0/15
```

執行上面的命令之後，竟然真的掃到了這些 IP！

```
10.79.11.174
10.78.161.150
10.78.77.92
10.78.186.4
10.78.71.72
10.78.19.209
10.79.155.62
10.79.17.43
10.78.43.125
10.78.58.53
10.78.30.112
...
```

### “盜用”代理

之所以能夠在 zmap 中掃描到，是因為對方主機允許其他 IP 連接，也就是關閉了防火牆，並且 clash 監聽在 `0.0.0.0:7890` 上。此時直接在 Windows 中配置網路代理為 `ip:7890` 就可以“盜用”對方的代理流量了。（但不建議這麼做）

## 配置與使用

![configure proxy](/networking/scan_clash.png)

這樣配置之後，就算自己的 clash 關掉了，也能夠訪問外網了。

![experiment result](/networking/result.png)
