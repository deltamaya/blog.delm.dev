---
title: “盜用”clash代理
date: 2024-12-21
ai: True
tags: ['networking', 'cybersecurity', 'gfw']
authors: ['Maya']
---
## zmap掃描網路

今天刷b站的時候看到了一個介紹`zmap`作為網路掃描工具的影片，覺得很有趣，於是立刻下載了一個來玩，突發奇想要不要掃描一下校園網裡使用clash（7890）端口的人。

```bash
zmap -p 7890 10.78.0.0/15
```

執行上面的命令之後，居然真的掃到了這些IP！

```
10.79.11.174
10.78.161.150
10.78.77.92
10.78.186.4
10.78.71.72
10.78.19.209
10.79.155.62
10.79.17.43
10.78.43.125
10.78.58.53
10.78.30.112
...
```

### “盜用”代理

之所以能夠在zmap中掃描到，是因為對方主機允許其他IP連接，也就是關閉了防火牆，並且clash監聽在`0.0.0.0:7890`上，這時直接在Windows中配置網路代理為`ip:7890`就可以“盜用”對方的代理流量了。（但是不建議這麼做）

## 配置與使用

![configure proxy](/networking/scan_clash.png)
這樣配置之後，就算自己的clash關掉之後也能夠訪問外網了。
![experiment result](/networking/result.png)